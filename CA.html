<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendrier de l'Avent - Noël</title>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');

        body {
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #003366;
            font-family: 'Orbitron', sans-serif;
            overflow: hidden;
        }

        h1 {
            color: #fff;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
        }

        .calendar {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            grid-gap: 15px;
            padding: 20px;
            width: 90%;
            max-width: 900px;
        }

        .day {
            position: relative;
            padding-top: 100%;
            background-color: #ff4747;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.5s, background-color 0.3s ease;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .day-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .day.open .door {
            transform: rotateY(180deg);
        }

        .door {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #2980b9;
            background: linear-gradient(135deg, #fff 25%, transparent 25%, transparent 50%, #fff 50%, #fff 75%, transparent 75%, transparent);
            background-size: 20px 20px;
            border-radius: 10px;
            transform-origin: left;
            transition: transform 1s;
        }

        .door-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #fff;
            font-size: 2rem;
            opacity: 0;
            transition: opacity 0.5s;
        }

        .day.open .door-content {
            opacity: 1;
        }

        /* Styles réactifs pour les petits écrans */
        @media (max-width: 600px) {
            .calendar {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        @media (max-width: 400px) {
            .calendar {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        /* Styles du popup */
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            width: 80%;
            max-width: 500px;
            text-align: center;
            color: #000;
        }

        .close {
            color: #000;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover,
        .close:focus {
            color: red;
            text-decoration: none;
            cursor: pointer;
        }

        /* Flocons de neige */
        .snowflake {
            position: fixed;
            top: -10px;
            color: white;
            font-size: 2rem;
            animation: fall 10s linear infinite;
        }

        @keyframes fall {
            0% { top: -10px; opacity: 1; }
            100% { top: 110vh; opacity: 0; }
        }
    </style>
</head>
<body>
    <h1>Calendrier de l'Avent de Noël</h1>

    <div class="calendar">
        <!-- Création des 24 jours -->
        <div class="day" id="day1" onclick="openDay(this, 1)">
            <div class="door"></div>
            <div class="day-number">1</div>
            <div class="door-content">🎁</div>
        </div>
        <div class="day" id="day2" onclick="openDay(this, 2)">
            <div class="door"></div>
            <div class="day-number">2</div>
            <div class="door-content">🎅</div>
        </div>
        <div class="day" id="day3" onclick="openDay(this, 3)">
            <div class="door"></div>
            <div class="day-number">3</div>
            <div class="door-content">⛄</div>
        </div>
        <div class="day" id="day4" onclick="openDay(this, 4)">
            <div class="door"></div>
            <div class="day-number">4</div>
            <div class="door-content">🦌</div>
        </div>
        <div class="day" id="day5" onclick="openDay(this, 5)">
            <div class="door"></div>
            <div class="day-number">5</div>
            <div class="door-content">🌟</div>
        </div>
        <div class="day" id="day6" onclick="openDay(this, 6)">
            <div class="door"></div>
            <div class="day-number">6</div>
            <div class="door-content">🎄</div>
        </div>
        <div class="day" id="day7" onclick="openDay(this, 7)">
            <div class="door"></div>
            <div class="day-number">7</div>
            <div class="door-content">🎁</div>
        </div>
        <div class="day" id="day8" onclick="openDay(this, 8)">
            <div class="door"></div>
            <div class="day-number">8</div>
            <div class="door-content">🎅</div>
        </div>
        <div class="day" id="day9" onclick="openDay(this, 9)">
            <div class="door"></div>
            <div class="day-number">9</div>
            <div class="door-content">⛄</div>
        </div>
        <div class="day" id="day10" onclick="openDay(this, 10)">
            <div class="door"></div>
            <div class="day-number">10</div>
            <div class="door-content">🦌</div>
        </div>
        <div class="day" id="day11" onclick="openDay(this, 11)">
            <div class="door"></div>
            <div class="day-number">11</div>
            <div class="door-content">🌟</div>
        </div>
        <div class="day" id="day12" onclick="openDay(this, 12)">
            <div class="door"></div>
            <div class="day-number">12</div>
            <div class="door-content">🎄</div>
        </div>
        <div class="day" id="day13" onclick="openDay(this, 13)">
            <div class="door"></div>
            <div class="day-number">13</div>
            <div class="door-content">🎁</div>
        </div>
        <div class="day" id="day14" onclick="openDay(this, 14)">
            <div class="door"></div>
            <div class="day-number">14</div>
            <div class="door-content">🎅</div>
        </div>
        <div class="day" id="day15" onclick="openDay(this, 15)">
            <div class="door"></div>
            <div class="day-number">15</div>
            <div class="door-content">⛄</div>
        </div>
        <div class="day" id="day16" onclick="openDay(this, 16)">
            <div class="door"></div>
            <div class="day-number">16</div>
            <div class="door-content">🦌</div>
        </div>
        <div class="day" id="day17" onclick="openDay(this, 17)">
            <div class="door"></div>
            <div class="day-number">17</div>
            <div class="door-content">🌟</div>
        </div>
        <div class="day" id="day18" onclick="openDay(this, 18)">
            <div class="door"></div>
            <div class="day-number">18</div>
            <div class="door-content">🎄</div>
        </div>
        <div class="day" id="day19" onclick="openDay(this, 19)">
            <div class="door"></div>
            <div class="day-number">19</div>
            <div class="door-content">🎁</div>
        </div>
        <div class="day" id="day20" onclick="openDay(this, 20)">
            <div class="door"></div>
            <div class="day-number">20</div>
            <div class="door-content">🎅</div>
        </div>
        <div class="day" id="day21" onclick="openDay(this, 21)">
            <div class="door"></div>
            <div class="day-number">21</div>
            <div class="door-content">⛄</div>
        </div>
        <div class="day" id="day22" onclick="openDay(this, 22)">
            <div class="door"></div>
            <div class="day-number">22</div>
            <div class="door-content">🦌</div>
        </div>
        <div class="day" id="day23" onclick="openDay(this, 23)">
            <div class="door"></div>
            <div class="day-number">23</div>
            <div class="door-content">🌟</div>
        </div>
        <div class="day" id="day24" onclick="openDay(this, 24)">
            <div class="door"></div>
            <div class="day-number">24</div>
            <div class="door-content">🎄</div>
        </div>
    </div>

    <!-- Modal pour les histoires -->
    <div id="storyModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2 id="storyTitle">Histoire du jour</h2>
            <p id="storyText"></p>
        </div>
    </div>

    <script>
        // Histoires pour chaque jour
        const stories = {
            1: "Le Noël de Clara et Mamie Jeanne

C’était la veille de Noël, et Clara, une petite fille de sept ans, était très impatiente. Sa grand-mère, Mamie Jeanne, venait de lui offrir une belle clochette en argent. "Cette clochette est spéciale", lui avait dit Mamie Jeanne en souriant. "Si tu fais un vœu la veille de Noël en la faisant tinter, il pourrait se réaliser !"

Clara n’arrêtait pas de réfléchir à quel vœu elle allait faire. Elle aimait beaucoup Noël, surtout quand sa grand-mère venait lui rendre visite. Mamie Jeanne préparait toujours de délicieux biscuits à la cannelle, et ils passaient des heures à décorer le sapin ensemble.

Ce soir-là, après avoir décoré le sapin et bu du chocolat chaud avec sa famille, Clara se retrouva seule près de la cheminée avec la petite clochette en argent dans la main. Elle la regarda briller à la lumière du feu et pensa à son vœu. Finalement, elle la fit doucement tinter et murmura :
— Je voudrais passer un Noël magique avec Mamie Jeanne.

Le son doux de la clochette résonna dans la pièce. Clara ferma les yeux et sourit, son cœur rempli de joie. Elle était sûre que quelque chose de merveilleux allait arriver.

Le lendemain matin, Clara se réveilla avec un grand sourire. C’était enfin Noël ! Elle courut dans le salon et trouva Mamie Jeanne en train de préparer une montagne de biscuits, comme elle le faisait chaque année.
— Joyeux Noël, ma Clara ! dit Mamie Jeanne. Et devine quoi ? J’ai une surprise pour toi aujourd’hui !

Mamie Jeanne emmena Clara dehors. Dans le jardin, un magnifique bonhomme de neige les attendait, entouré de petites lanternes qui brillaient comme des étoiles.
— C’est notre Noël magique ! dit Mamie Jeanne. On va passer une journée pleine de surprises.

Clara éclata de rire et se mit à danser autour du bonhomme de neige. Elle savait que la magie de Noël venait du temps passé avec ceux qu’elle aimait, et cette journée resterait gravée dans son cœur pour toujours.",
            2: "Un bonhomme de neige magique dans le village...",
            3: "Une étoile filante qui exauçait les vœux de Noël...",
            4: "Le Père Noël préparait son traîneau pour la grande nuit...",
            5: "Dans un petit village enneigé, une surprise attendait chaque enfant...",
            6: "Le sapin de Noël était décoré avec des lumières étincelantes...",
            7: "Une boîte mystérieuse apparut sous le sapin...",
            8: "Les lutins du Père Noël travaillaient dur dans l'atelier...",
            9: "Une histoire d’amitié entre un renne et un lapin de Noël...",
            10: "Dans la forêt, les animaux préparaient aussi Noël...",
            11: "Une fée de Noël fit apparaître une pluie d'étoiles...",
            12: "Un biscuit de Noël prit vie et partit à l'aventure...",
            13: "Le Père Noël raconta l'histoire de la toute première neige...",
            14: "Un enfant découvrit le secret des lutins de Noël...",
            15: "La Lune brilla plus fort que jamais pendant la nuit de Noël...",
            16: "Les rennes volants étaient impatients de commencer leur tournée...",
            17: "Une étoile polaire montra le chemin au Père Noël...",
            18: "Un petit chaton découvrit la magie de Noël...",
            19: "Les cadeaux magiques brillaient sous le sapin...",
            20: "Le vent de Noël soufflait une douce mélodie à travers la vallée...",
            21: "Les enfants entonnèrent un chant de Noël autour du feu...",
            22: "Une grande fête de Noël se préparait au pôle Nord...",
            23: "Une étoile brilla dans le ciel pour annoncer la veille de Noël...",
            24: "Enfin, c'était Noël, la plus belle nuit de l'année..."
        };

        // Fonction pour ouvrir une case
        function openDay(element, dayNumber) {
            if (!element.classList.contains('open')) {
                element.classList.add('open');
                showStory(dayNumber);
            }
        }

        // Fonction pour afficher l'histoire
        function showStory(dayNumber) {
            const storyModal = document.getElementById('storyModal');
            const storyText = document.getElementById('storyText');
            const storyTitle = document.getElementById('storyTitle');

            storyTitle.textContent = `Histoire du jour ${dayNumber}`;
            storyText.textContent = stories[dayNumber];

            storyModal.style.display = "flex"; // Affiche le popup
        }

        // Fonction pour fermer le popup
        function closeModal() {
            const modal = document.getElementById('storyModal');
            modal.style.display = "none"; // Cache le modal
        }

        // Ferme le popup si on clique en dehors de celui-ci
        window.onclick = function(event) {
            const modal = document.getElementById('storyModal');
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }

        // Génération de flocons de neige
        setInterval(function() {
            const snowflake = document.createElement('div');
            snowflake.classList.add('snowflake');
            snowflake.style.left = `${Math.random() * 100}vw`;
            snowflake.style.animationDuration = `${Math.random() * 3 + 2}s`;
            snowflake.textContent = '❄';
            document.body.appendChild(snowflake);
            setTimeout(() => {
                snowflake.remove();
            }, 5000);
        }, 300);
    </script>
</body>
</html>
